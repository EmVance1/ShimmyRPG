{
    "label": "Shimmy's Shack",
    "scripts": [
        "scripts/ShimmyIntroScene.lua"
    ],
    "triggers": [
        {
            // front door
            "rect": [ 1.2, 4, 1.2, 0.3 ],
            "act_portal": { "index": 1, "spawnpos": [ 0.3, -1.8 ] },
            "condition": "!Ademmar.CurfewInPlace"
        },
        {
            // welcome cutscene
            "rect": [ 0, -1.2, 4, 3.5 ],
            "act_event": "OnShimmyIntroCutsceneTriggered",
            "condition": "once",
        },
        {
            // behind bar
            "rect": [ 0.45, -1.2, 3.55, 0.9 ],
            "act_dia": "speech/ShimmyBehindBar.shmy",
        },
        {
            // curfew blocker
            "rect": [ 1.2, 4, 1.2, 0.3 ],
            "act_popup": "There is a curfew in place. It is unwise to go outside.",
            "condition": "Ademmar.CurfewInPlace"
        }
    ],
    "entities": [
        {
            "texture": "NPC_placeholder.player", "position": { "world": [ 2, 3.8 ] }, "tags": [ "player" ],
            "trait_scriptable": { "script_id": "player", "story_id": "Stanza" },
            "trait_movement": { "speed": 1.3 }
        },
        {
            "texture": "NPC_placeholder.friendly", "position": { "world": [ 2, -0.8 ] }, "tags": [ "shimmy_staff" ],
            "trait_scriptable": { "script_id": "ShimmyPrime", "story_id": "Shimmy" },
            "trait_movement": { "speed": 1.0 },
            "trait_speech": { "file": "speech/ShimmyDialogue.shmy" },

            // speculative
            "trait_inventory": { "id": "shimmy_inventory" },
            "trait_playable": null,
            "trait_": null,
        },
        {
            "texture": "NPC_placeholder.friendly", "position": { "world": [ 3.5, 1 ] }, "tags": [ "shimmy_customer" ],
            "trait_scriptable": { "script_id": "BrianPrime", "story_id": "Brian" },
            "trait_movement": { "speed": 1.0 },
            "trait_speech": { "file": "speech/BrianDialogue.shmy" }
        },
        {
            "texture": "NPC_placeholder.neutral", "position": { "world": [ 2.2, 0 ] }, "tags": [ "shimmy_customer" ],
            "trait_scriptable": { "script_id": "Sally", "story_id": "Sally" },
            "trait_movement": { "speed": 1.0 },
            "trait_speech": { "line": "This curfew nonsense is a bad fucking joke..." }
        },
        {
            "texture": "NPC_placeholder.neutral", "position": { "world": [ 2.8, 0 ] }, "tags": [ "shimmy_customer" ],
            "trait_scriptable": { "script_id": "Bill", "story_id": "Bill" },
            "trait_movement": { "speed": 1.0 },
            "trait_speech": { "line": "Shimmy really knows how to brew a strong drink." }
        },
        {
            "texture": "tavern_simple.table_long", "position": { "iso": [ 558, 478 ] }, "tags": [ "furniture", "wood" ],
            "trait_customsort": [ [0, 265], [378, 110] ]
        },
        {
            "prefab": "table_simple_wooden_round",
            "trait_examine": { "file": "speech/table.shmy" },
            "position": { "iso": [ 737, 749 ] }
        },
        {
            "prefab": "table_simple_wooden_round",
            "position": { "iso": [ 959, 649 ] }
        },
        {
            "prefab": "table_simple_wooden_round",
            "position": { "iso": [ 909, 870 ] }
        },
        {
            "prefab": "table_simple_wooden_round",
            "position": { "iso": [ 1114, 790 ] }
        },
        {
            "prefab": "door_simple_wooden_single",
            "position": { "iso": [ 1060, 273 ] },
            "tags": [ "locked", "-y" ]
        }
    ]
}
